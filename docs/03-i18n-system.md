# 第3章：國際化系統

> **本章內容**：多語言架構設計、t() 函式標準、語言資源管理

---

## 🌍 國際化系統設計

### 核心架構
```
國際化系統
├── 語言資源 (locales/*.json)
├── Context 狀態管理
├── useI18n() Hook
└── t() 翻譯函式
```

### 支援語言
- **繁體中文** (zh-tw)：預設語言
- **英文** (en)：國際使用者

---

## 📁 語言資源管理

### 檔案結構
```
locales/
├── zh-tw.json    # 繁體中文（預設）
└── en.json       # 英文
```

### 強制使用規範
- **所有顯示文字必須透過 `t()` 函式處理，禁止硬編碼！**
- 只要是畫面上的文字，都必須來自語言資源檔

---

## 🗂️ 資源檔案結構

### 標準分類

| 區塊      | 說明           | 範例           |
|----------|----------------|----------------|
| **common**   | 通用按鈕文字   | submit, cancel |
| **nav**      | 導覽選單文字   | home, about    |
| **agenda**   | 議程相關文字   | pageTitle, expertBreakHint |
| **page**     | 各頁面標題     | home.title, home.heroAction |
| **tickets**  | 票券相關文字   | purchaseNow, soldOut |
| **speakers** | 講者相關文字   | profile, expertise |

### 巢狀結構範例
```json
{
  "page": {
    "home": {
      "title": "DDDTW 2025",
      "heroAction": "立即購票"
    },
    "about": {
      "title": "關於會議",
      "description": "領域驅動設計台灣年會"
    }
  }
}
```

---

## 🔧 使用方法

### 基本用法
1. **匯入 Hook**：在元件中使用 `useI18n()`
2. **取得翻譯函式**：`const { t } = useI18n()`
3. **翻譯文字**：`t('page.home.title')`

### 特殊場景
- **條件式翻譯**：根據資料狀態顯示不同文字
- **動態內容**：某些內容會根據情況切換語言
- **後備機制**：找不到翻譯時的處理方式

---

## 🌐 語言切換

### 切換機制
- 使用者可透過語言選擇器切換
- 系統會記住使用者的語言偏好
- 重新載入頁面時保持選擇的語言

### 實作要點
- 所有元件必須支援即時語言切換
- 切換時不應影響其他功能運作
- URL 結構保持一致，不分語言路徑

---

## 📝 翻譯品質

### 翻譯原則
- **準確性**：確保翻譯正確傳達原意
- **一致性**：相同概念使用相同翻譯
- **簡潔性**：避免冗長的翻譯
- **在地化**：符合當地用語習慣

### 品質控制
- 定期檢查翻譯內容
- 確保中英文長度適中
- 避免文字溢出版面問題

---

## 🔍 維護管理

### 新增翻譯
1. 在 `locales/zh-tw.json` 新增中文
2. 在 `locales/en.json` 新增對應英文
3. 在元件中使用 `t('key.subkey')`

### 修改翻譯
1. 直接編輯語言資源檔
2. 儲存後立即生效
3. 不需重新啟動開發服務器

### 檢查工具
- 確保所有翻譯鍵值都有對應
- 檢查是否有遺漏的翻譯
- 驗證翻譯內容格式正確

---

## ❓ 常見問答

**Q: 如何新增一個新的翻譯？**
A: 在兩個語言檔案中都加入相同的鍵值，並提供對應翻譯。

**Q: 忘記加翻譯會怎樣？**
A: 會顯示翻譯鍵值本身，如 'page.home.title'。

**Q: 可以在翻譯中使用變數嗎？**
A: 可以，但建議保持簡單，避免複雜的動態內容。

**Q: 如何處理長短差異很大的翻譯？**
A: 設計時考慮最長的翻譯，確保版面可以容納。

---

*文件版本: v2.0 | 最後更新: 2025年10月9日*